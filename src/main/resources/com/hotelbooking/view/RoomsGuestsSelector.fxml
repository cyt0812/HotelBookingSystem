<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox xmlns="http://javafx.com/javafx/21" 
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.hotelbooking.controller.RoomsGuestsSelectorController"
      spacing="5">
    
    <!-- 显示按钮 - 点击展开选择器 -->
    <Label text="Rooms & Guests" 
           style="-fx-font-size: 12px; -fx-text-fill: #666666;"/>
    
    <Button fx:id="btnRoomsGuests" 
            onAction="#toggleSelector"
            alignment="CENTER_LEFT"
            style="-fx-background-color: white; 
                   -fx-border-color: #cccccc; 
                   -fx-border-radius: 5; 
                   -fx-background-radius: 5; 
                   -fx-padding: 10 15;
                   -fx-pref-width: 250px;
                   -fx-font-size: 14px;
                   -fx-cursor: hand;">
        <graphic>
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label fx:id="lblRoomsGuestsDisplay" 
                       text="1 Rooms, 1 Guests"
                       style="-fx-font-size: 14px; -fx-text-fill: #333333;"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Label fx:id="lblArrow" 
                       text="▼" 
                       style="-fx-font-size: 10px; -fx-text-fill: #666666;"/>
            </HBox>
        </graphic>
    </Button>
    
    <!-- 下拉选择器面板 -->
    <VBox fx:id="selectorPanel" 
          visible="false" 
          managed="false"
          spacing="20"
          style="-fx-background-color: white; 
                 -fx-border-color: #cccccc; 
                 -fx-border-radius: 5; 
                 -fx-background-radius: 5; 
                 -fx-padding: 20;
                 -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.2), 10, 0, 0, 2);
                 -fx-pref-width: 450px;">
        
        <!-- Rooms 选择器 -->
        <HBox alignment="CENTER" spacing="20">
            <VBox alignment="CENTER_LEFT" spacing="5" HBox.hgrow="ALWAYS">
                <Label text="Rooms" 
                       style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
            </VBox>
            
            <Button fx:id="btnRoomMinus" 
                    text="−" 
                    onAction="#decreaseRooms"
                    style="-fx-background-color: white; 
                           -fx-border-color: #cccccc; 
                           -fx-border-radius: 50%; 
                           -fx-background-radius: 50%;
                           -fx-min-width: 40px;
                           -fx-min-height: 40px;
                           -fx-font-size: 20px;
                           -fx-cursor: hand;"/>
            
            <Label fx:id="lblRoomCount" 
                   text="2" 
                   style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-min-width: 40px; -fx-alignment: center;"/>
            
            <Button fx:id="btnRoomPlus" 
                    text="+" 
                    onAction="#increaseRooms"
                    style="-fx-background-color: white; 
                           -fx-border-color: #cccccc; 
                           -fx-border-radius: 50%; 
                           -fx-background-radius: 50%;
                           -fx-min-width: 40px;
                           -fx-min-height: 40px;
                           -fx-font-size: 20px;
                           -fx-cursor: hand;"/>
        </HBox>
        
        <Separator/>
        
        <!-- Adults 选择器 -->
        <HBox alignment="CENTER" spacing="20">
            <VBox alignment="CENTER_LEFT" spacing="5" HBox.hgrow="ALWAYS">
                <Label text="Adults" 
                       style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                <Label text="(Max: 8 total guests/room)" 
                       style="-fx-font-size: 12px; -fx-text-fill: #666666;"/>
            </VBox>
            
            <Button fx:id="btnAdultMinus" 
                    text="−" 
                    onAction="#decreaseAdults"
                    style="-fx-background-color: white; 
                           -fx-border-color: #cccccc; 
                           -fx-border-radius: 50%; 
                           -fx-background-radius: 50%;
                           -fx-min-width: 40px;
                           -fx-min-height: 40px;
                           -fx-font-size: 20px;
                           -fx-cursor: hand;"/>
            
            <Label fx:id="lblAdultCount" 
                   text="3" 
                   style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-min-width: 40px; -fx-alignment: center;"/>
            
            <Button fx:id="btnAdultPlus" 
                    text="+" 
                    onAction="#increaseAdults"
                    style="-fx-background-color: white; 
                           -fx-border-color: #cccccc; 
                           -fx-border-radius: 50%; 
                           -fx-background-radius: 50%;
                           -fx-min-width: 40px;
                           -fx-min-height: 40px;
                           -fx-font-size: 20px;
                           -fx-cursor: hand;"/>
        </HBox>
        
        <Separator/>
        
        <!-- Children 选择器 -->
        <HBox alignment="CENTER" spacing="20">
            <VBox alignment="CENTER_LEFT" spacing="5" HBox.hgrow="ALWAYS">
                <Label text="Children" 
                       style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                <Label text="(Max: 8 total guests/room)" 
                       style="-fx-font-size: 12px; -fx-text-fill: #666666;"/>
                <Label text="Age-based rates may be available" 
                       style="-fx-font-size: 11px; -fx-text-fill: #999999;"/>
            </VBox>
            
            <Button fx:id="btnChildMinus" 
                    text="−" 
                    onAction="#decreaseChildren"
                    style="-fx-background-color: white; 
                           -fx-border-color: #cccccc; 
                           -fx-border-radius: 50%; 
                           -fx-background-radius: 50%;
                           -fx-min-width: 40px;
                           -fx-min-height: 40px;
                           -fx-font-size: 20px;
                           -fx-cursor: hand;"/>
            
            <Label fx:id="lblChildCount" 
                   text="2" 
                   style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-min-width: 40px; -fx-alignment: center;"/>
            
            <Button fx:id="btnChildPlus" 
                    text="+" 
                    onAction="#increaseChildren"
                    style="-fx-background-color: white; 
                           -fx-border-color: #cccccc; 
                           -fx-border-radius: 50%; 
                           -fx-background-radius: 50%;
                           -fx-min-width: 40px;
                           -fx-min-height: 40px;
                           -fx-font-size: 20px;
                           -fx-cursor: hand;"/>
        </HBox>
        
        <!-- 儿童年龄选择区域 -->
        <VBox fx:id="childrenAgeContainer" 
              spacing="15" 
              style="-fx-padding: 10 0 0 0;">
            <!-- 动态添加儿童年龄选择器 -->
        </VBox>
        
        <Separator/>
        
        <!-- 底部按钮 -->
        <HBox spacing="10" alignment="CENTER_RIGHT">
            <Button text="Reset" 
                    onAction="#handleReset"
                    style="-fx-background-color: transparent; 
                           -fx-text-fill: #666666; 
                           -fx-font-size: 14px;
                           -fx-cursor: hand;
                           -fx-underline: true;"/>
            
            <Region HBox.hgrow="ALWAYS"/>
            
            <Button text="Done" 
                    onAction="#handleDone"
                    style="-fx-background-color: #1a1a1a; 
                           -fx-text-fill: white; 
                           -fx-font-size: 14px;
                           -fx-font-weight: bold;
                           -fx-padding: 10 30;
                           -fx-border-radius: 5;
                           -fx-background-radius: 5;
                           -fx-cursor: hand;"/>
        </HBox>
        
    </VBox>
    
</VBox>