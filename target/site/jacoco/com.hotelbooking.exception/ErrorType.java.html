<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ErrorType.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">HotelBookingSystem</a> &gt; <a href="index.source.html" class="el_package">com.hotelbooking.exception</a> &gt; <span class="el_source">ErrorType.java</span></div><h1>ErrorType.java</h1><pre class="source lang-java linenums">package com.hotelbooking.exception;

/**
 * 错误类型枚举
 * 统一管理所有错误代码和消息
 */
<span class="fc" id="L7">public enum ErrorType {</span>
    // User-related errors
<span class="fc" id="L9">    USER_NOT_FOUND(&quot;USER_001&quot;, &quot;User not found&quot;),</span>
<span class="fc" id="L10">    INVALID_CREDENTIALS(&quot;USER_002&quot;, &quot;Invalid username or password&quot;),</span>
<span class="fc" id="L11">    USERNAME_EXISTS(&quot;USER_003&quot;, &quot;Username already exists&quot;),</span>
<span class="fc" id="L12">    EMAIL_EXISTS(&quot;USER_004&quot;, &quot;Email already exists&quot;),</span>
<span class="fc" id="L13">    USER_ALREADY_LOGGED_IN(&quot;USER_005&quot;, &quot;User already logged in&quot;),</span>
<span class="fc" id="L14">    INSUFFICIENT_PERMISSION(&quot;USER_006&quot;, &quot;Insufficient permission&quot;),</span>
    
    // Hotel-related errors
<span class="fc" id="L17">    HOTEL_NOT_FOUND(&quot;HOTEL_001&quot;, &quot;Hotel not found&quot;),</span>
<span class="fc" id="L18">    HOTEL_ALREADY_EXISTS(&quot;HOTEL_002&quot;, &quot;Hotel already exists&quot;),</span>
<span class="fc" id="L19">    INVALID_HOTEL_DATA(&quot;HOTEL_003&quot;, &quot;Invalid hotel data&quot;),</span>
    
    // Room-related errors
<span class="fc" id="L22">    ROOM_NOT_FOUND(&quot;ROOM_001&quot;, &quot;Room not found&quot;),</span>
<span class="fc" id="L23">    ROOM_NOT_AVAILABLE(&quot;ROOM_002&quot;, &quot;Room unavailable&quot;),</span>
<span class="fc" id="L24">    ROOM_ALREADY_EXISTS(&quot;ROOM_003&quot;, &quot;Room number already exists&quot;),</span>
<span class="fc" id="L25">    INVALID_ROOM_DATA(&quot;ROOM_004&quot;, &quot;Invalid room data&quot;),</span>
    
    // Booking-related errors
<span class="fc" id="L28">    BOOKING_NOT_FOUND(&quot;BOOKING_001&quot;, &quot;Booking not found&quot;),</span>
<span class="fc" id="L29">    INVALID_BOOKING_DATES(&quot;BOOKING_002&quot;, &quot;Invalid booking dates&quot;),</span>
<span class="fc" id="L30">    BOOKING_CONFLICT(&quot;BOOKING_003&quot;, &quot;Booking conflict&quot;),</span>
<span class="fc" id="L31">    INVALID_BOOKING_STATUS(&quot;BOOKING_004&quot;, &quot;Invalid booking status&quot;),</span>
<span class="fc" id="L32">    BOOKING_CANNOT_CANCEL(&quot;BOOKING_005&quot;, &quot;Booking cannot be cancelled in current status&quot;),</span>
<span class="fc" id="L33">    BOOKING_ALREADY_COMPLETED(&quot;BOOKING_006&quot;, &quot;Booking already completed&quot;),</span>
    
    // Payment-related errors
<span class="fc" id="L36">    PAYMENT_FAILED(&quot;PAYMENT_001&quot;, &quot;Payment failed&quot;),</span>
<span class="fc" id="L37">    PAYMENT_NOT_FOUND(&quot;PAYMENT_002&quot;, &quot;Payment record not found&quot;),</span>
<span class="fc" id="L38">    REFUND_FAILED(&quot;PAYMENT_003&quot;, &quot;Refund failed&quot;),</span>
<span class="fc" id="L39">    INVALID_PAYMENT_METHOD(&quot;PAYMENT_004&quot;, &quot;Invalid payment method&quot;),</span>
<span class="fc" id="L40">    PAYMENT_ALREADY_PROCESSED(&quot;PAYMENT_005&quot;, &quot;Payment already processed&quot;),</span>
    
    // Validation errors
<span class="fc" id="L43">    VALIDATION_ERROR(&quot;VALIDATION_001&quot;, &quot;Data validation failed&quot;),</span>
<span class="fc" id="L44">    INVALID_PARAMETER(&quot;VALIDATION_002&quot;, &quot;Invalid parameter&quot;),</span>
<span class="fc" id="L45">    MISSING_REQUIRED_FIELD(&quot;VALIDATION_003&quot;, &quot;Missing required field&quot;),</span>
    
    // System errors
<span class="fc" id="L48">    DATABASE_ERROR(&quot;SYSTEM_001&quot;, &quot;Database error&quot;),</span>
<span class="fc" id="L49">      DATABASE_CONNECTION_ERROR(&quot;SYSTEM_002&quot;, &quot;Database connection failed&quot;),</span>
<span class="fc" id="L50">    INTERNAL_SERVER_ERROR(&quot;SYSTEM_003&quot;, &quot;Internal server error&quot;),</span>
<span class="fc" id="L51">    EXTERNAL_SERVICE_ERROR(&quot;SYSTEM_004&quot;, &quot;External service error&quot;),</span>
<span class="fc" id="L52">    FILE_PROCESSING_ERROR(&quot;SYSTEM_005&quot;, &quot;File processing error&quot;);</span>
    
    private final String code;
    private final String message;
    
<span class="fc" id="L57">    ErrorType(String code, String message) {</span>
<span class="fc" id="L58">        this.code = code;</span>
<span class="fc" id="L59">        this.message = message;</span>
<span class="fc" id="L60">    }</span>
    
    public String getCode() {
<span class="fc" id="L63">        return code;</span>
    }
    
    public String getMessage() {
<span class="fc" id="L67">        return message;</span>
    }
    
    /**
     * 根据错误代码查找对应的ErrorType
     */
    public static ErrorType fromCode(String code) {
<span class="nc bnc" id="L74" title="All 2 branches missed.">        for (ErrorType errorType : values()) {</span>
<span class="nc bnc" id="L75" title="All 2 branches missed.">            if (errorType.getCode().equals(code)) {</span>
<span class="nc" id="L76">                return errorType;</span>
            }
        }
<span class="nc" id="L79">        return INTERNAL_SERVER_ERROR;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.10.202304240956</span></div></body></html>